<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Alchemy Database: A Hybrid RDBMS/NOSQL-Datastore</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Juliano Martinez">

    <!-- Le styles -->
    <link rel="stylesheet" href="./theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 11pt;
      }
      .tag-2 {
        font-size: 9pt;
      }
      .tag-3 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 7pt;
     }
    </style>
    <link href="./theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="./theme/css/font-awesome.css" rel="stylesheet">

    <link href="./theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="./theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="./theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./theme/images/apple-touch-icon-114x114.png">

    <link href="./" type="application/atom+xml" rel="alternate" title="sysadms must be lazy ATOM Feed" />
        <link href="./feeds/rss.xml" type="application/atom+xml" rel="alternate" title="sysadms must be lazy RSS Feed" />
    
  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="./index.html">sysadms must be lazy </a>
          <div class="nav-collapse">
            <ul class="nav">
                                                                    <li class="divider-vertical"></li>
                                        <ul class="nav pull-right">
                                <li><a href="./archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span12" id="content">
            <section id="content">
        <article>
                <header>
                        <h1>
                                <a href=""
                                        rel="bookmark"
                                        title="Permalink to Alchemy Database: A Hybrid RDBMS/NOSQL-Datastore">
                                        Alchemy Database: A Hybrid RDBMS/NOSQL-Datastore
                                </a>
                                                        </h1>
                </header>
                <div class="entry-content">
                <div class="well">
                        <footer class="post-info">
<span class="label"><i class="icon-calendar"></i></span>
<abbr class="published" title="2012-05-11T16:26:00">
        Fri 11 May 2012
</abbr>
<span class="label">By</span>
<a href="./author/juliano-martinez.html">Juliano Martinez</a>


<span class="label">Tags</span>
	<a href="./tag/nosql.html"><i class="icon-tag"></i>nosql</a>
	<a href="./tag/rdbms.html"><i class="icon-tag"></i>rdbms</a>
	<a href="./tag/redis.html"><i class="icon-tag"></i>redis</a>
</footer><!-- /.post-info -->                </div>
                <table><tr><td valign="top" style="margin:.5px;padding:0 10px;"><p>&quot;Alchemy Database is a low-latency high-TPS NewSQL RDBMS embedded
in the NOSQL datastore <a class="reference external" href="http://redis.io/">redis</a>. Extensive
<a class="reference external" href="http://jaksprats.wordpress.com/2010/11/15/datastore-side-scripting-can-prevent-bottlenecks/">datastore-side-scripting</a> is provided via deeply embedded <a class="reference external" href="http://www.lua.org/about.html">Lua</a>.
Unstructured data, can also be stored, as there are no limits on
#tables, #indexes, #columns, and <a class="reference external" href="http://code.google.com/p/alchemydatabase/wiki/HighLights?ts=1317936394&amp;updated=HighLights#Memory_optimisations">sparsely populated rows</a> use
minimal memory.</p>
<p>AlchemyDB believes OLTP traffic's needs are best served by
extending SQL and has recently added the following experimental
functionalities:</p>
<ul class="simple">
<li><a class="reference external" href="http://code.google.com/p/alchemydatabase/wiki/LuaTableColumnType">LuaTable</a> - A column type that is a <a class="reference external" href="http://lua-users.org/wiki/TablesTutorial">Lua Table</a>, that single
handedly adds both Document-Store &amp; Object-DB functionality by
mixing Lua into SQL.</li>
<li><a class="reference external" href="http://code.google.com/p/alchemydatabase/wiki/LuaGraphDB">GraphDB</a> - so brand new it is not even fully documented :) A
GraphDB was created on top of AlchemyDB using SQL for indexes and
Lua for graph-traversal logic. AlchemyDB is a customizable data
platform.</li>
<li><a class="reference external" href="http://code.google.com/p/alchemydatabase/wiki/AppStack">AppStack</a> - AlchemyDB uses a REST API and already had Lua
embedded, creating a dynamic HTTP server, serving Lua webpages was
a logical step, and it is the fastest dynamic webserver I have ever
benchmarked (probably because it can only make internal AlchemyDB
calls, i.e. NO backend calls :)</li>
</ul>
<p>Alchemy Database is optimised for top notch memory efficiency and
top notch TPS for OLTP requests:</p>
<ul class="simple">
<li>Speed is achieved by being an event driven network server that
stores 100% of data in RAM, achieving disk persistence by using a
spare cpu-core to periodically log data changes (i.e. no threads,
no locks, no undo-logs, no disk-seeks, serving data over a network
at RAM speed)</li>
<li>Storage data structures w/ very low memory overhead and data
compression, via algorithms w/ insignificant performance hits,
greatly increase the amount of data you can fit in RAM</li>
<li>Optimising to the <a class="reference external" href="http://code.google.com/p/alchemydatabase/wiki/CommandReference#Supported_SQL">SQL statements</a> most commonly used in OLTP
workloads yields a lightweight RDBMS designed for
<a class="reference external" href="http://jaksprats.wordpress.com/2010/09/27/next-generation-web-server-pole-low-latency-at-high-concurrency/">low latency at high concurrency</a> (i.e. world class
speed/thruput).</li>
</ul>
<p><strong>RAM is CHEAP these days</strong></p>
<p>RAM is now affordable enough to be able to store ENTIRE OLTP
Databases in a single machine's RAM (e.g. <a class="reference external" href="http://en.wikipedia.org/wiki/Wikipedia:Database_download">Wikipedia's English DB</a>
is 30GB and a <a class="reference external" href="http://configure.us.dell.com/dellstore/config.aspx?oc=becwek1&amp;c=us&amp;l=en&amp;s=bsd&amp;cs=04&amp;model_id=poweredge-t610">Dell T610</a> w/ 32GB RAM costs $2100). Data can be
asynchronously replicated over the wire (providing high
availability) and written to disk via snapshots and appending log
files (providing durability) and data I/O is done at RAM speed.</p>
<p><strong>FAST ON COMMODITY HARDWARE:</strong></p>
<p>Client/Server using 1GbE LAN to/from a <strong>single</strong> core running at
3.0GHz, RAM PC3200 (400MHz)</p>
<ul class="simple">
<li>95K INSERT/sec, 95K SELECT/sec, 90K UPDATE/sec, 100K DELETE/sec</li>
<li>Range Queries returning 10 rows: 40K/sec</li>
<li>2 Table Joins returning 10 rows: 20K/sec</li>
<li>Lua script performing read and write: 85K/sec</li>
</ul>
<p><strong>MEMORY EFFICIENT:</strong></p>
<ol class="arabic simple">
<li>Each row has very little overhead when stored (20-30bytes) and
Insert speed does not significantly degrade as more indices are
added<ul>
<li>Simple row (PK+TEXT-&gt;16 bytes), 1GB stores 40 million rows,
insert speed: 70K/sec</li>
<li>Complex row (10 Indices+TEXT-&gt;48 bytes), 1GB stores 9 million
rows, insert speed: 40K/s</li>
<li>TEXT fields are compressed. If a 100 character column compresses
down to 80 bytes, the row can be stored w/ ZERO storage overhead
(e.g. 1million rows of 100 chars will take up 100MB)</li>
</ul>
</li>
<li>Sparse-Rows: tables w/ 1000s of columns, that are sparsely
populated, use a serialised hash table in the row's stream to store
column offsets. Sparse-Rows can be Orders-Of-Magnitude smaller than
full rows ... <a class="reference external" href="http://code.google.com/p/alchemydatabase/wiki/HighLights">more info</a></li>
</ol>
<p><strong>EASY TO USE:</strong></p>
<ul class="simple">
<li>Its <a class="reference external" href="http://code.google.com/p/alchemydatabase/wiki/CommandReference#Supported_SQL">SQL</a> ... you already know it :)</li>
<li><a class="reference external" href="http://redis.io/commands">Redis commands</a> are VERY easy to learn :)</li>
<li>Need more, <a class="reference external" href="http://code.google.com/p/alchemydatabase/wiki/CommandReference#LUA_Command">Lua is embedded</a>, opening up ... EVERYTHING</li>
<li>Alchemy's <a class="reference external" href="http://code.google.com/p/alchemydatabase/wiki/CommandReference#Beyond_SQL">SQL extensions</a> enhance SQL and fix some of its
common shortcomings...&quot;</li>
</ul>
</td></tr></table><p><a class="reference external" href="http://code.google.com/p/alchemydatabase/">http://code.google.com/p/alchemydatabase</a>
<a class="reference external" href="https://github.com/JakSprats/Alchemy-Database">https://github.com/JakSprats/Alchemy-Database</a></p>
</p>
                </div><!-- /.entry-content -->
                        </article>
</section>
        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
            <ul class="nav nav-list">
<li class="nav-header"><h5>Juliano Martinez</h5></li>
    <a href="http://twitter.com/ncode"><i class="icon-twitter-sign icon-large"></i></a>
    <a href="https://www.facebook.com/nc0d3"><i class="icon-facebook-sign icon-large"></i></a>
    <a href="http://br.linkedin.com/in/ncode"><i class="icon-linkedin-sign icon-large"></i></a>
    <a href="http://github.com/ncode"><i class="icon-github-sign icon-large"></i></a>
    <a href="https://plus.google.com/u/0/114807336963795227899"><i class="icon-google-plus-sign icon-large"></i></a>
<a href="./feeds/rss.xml" rel="alternate"><i class="icon-rss icon-large"></i></a>
<li class="nav-header"></li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>
<li class="tag-3">
    <a href="./tag/gevent.html">
        <i class="icon-tag icon-large"></i>gevent
    </a>
</li>
<li class="tag-4">
    <a href="./tag/xen.html">
        <i class="icon-tag icon-large"></i>xen
    </a>
</li>
<li class="tag-4">
    <a href="./tag/databases.html">
        <i class="icon-tag icon-large"></i>databases
    </a>
</li>
<li class="tag-4">
    <a href="./tag/html5.html">
        <i class="icon-tag icon-large"></i>html5
    </a>
</li>
<li class="tag-2">
    <a href="./tag/kernel.html">
        <i class="icon-tag icon-large"></i>kernel
    </a>
</li>
<li class="tag-3">
    <a href="./tag/c.html">
        <i class="icon-tag icon-large"></i>c
    </a>
</li>
<li class="tag-1">
    <a href="./tag/python.html">
        <i class="icon-tag icon-large"></i>python
    </a>
</li>
<li class="tag-4">
    <a href="./tag/bottle.html">
        <i class="icon-tag icon-large"></i>bottle
    </a>
</li>
<li class="tag-4">
    <a href="./tag/mobile.html">
        <i class="icon-tag icon-large"></i>mobile
    </a>
</li>
<li class="tag-2">
    <a href="./tag/mysql.html">
        <i class="icon-tag icon-large"></i>mysql
    </a>
</li>
<li class="tag-4">
    <a href="./tag/concurrency.html">
        <i class="icon-tag icon-large"></i>concurrency
    </a>
</li>
<li class="tag-4">
    <a href="./tag/audit.html">
        <i class="icon-tag icon-large"></i>audit
    </a>
</li>
<li class="tag-2">
    <a href="./tag/packaging.html">
        <i class="icon-tag icon-large"></i>packaging
    </a>
</li>
<li class="tag-4">
    <a href="./tag/ciclone.html">
        <i class="icon-tag icon-large"></i>ciclone
    </a>
</li>
<li class="tag-4">
    <a href="./tag/glusterfs.html">
        <i class="icon-tag icon-large"></i>glusterfs
    </a>
</li>
<li class="tag-4">
    <a href="./tag/player.html">
        <i class="icon-tag icon-large"></i>player
    </a>
</li>
<li class="tag-4">
    <a href="./tag/diskless.html">
        <i class="icon-tag icon-large"></i>diskless
    </a>
</li>
<li class="tag-3">
    <a href="./tag/git.html">
        <i class="icon-tag icon-large"></i>git
    </a>
</li>
<li class="tag-4">
    <a href="./tag/video.html">
        <i class="icon-tag icon-large"></i>video
    </a>
</li>
<li class="tag-4">
    <a href="./tag/zfs.html">
        <i class="icon-tag icon-large"></i>zfs
    </a>
</li>
<li class="tag-4">
    <a href="./tag/zmq.html">
        <i class="icon-tag icon-large"></i>zmq
    </a>
</li>
<li class="tag-2">
    <a href="./tag/linux.html">
        <i class="icon-tag icon-large"></i>linux
    </a>
</li>
<li class="tag-4">
    <a href="./tag/lxc.html">
        <i class="icon-tag icon-large"></i>lxc
    </a>
</li>
<li class="tag-4">
    <a href="./tag/hbase.html">
        <i class="icon-tag icon-large"></i>hbase
    </a>
</li>
<li class="tag-4">
    <a href="./tag/geolocation.html">
        <i class="icon-tag icon-large"></i>geolocation
    </a>
</li>
<li class="tag-3">
    <a href="./tag/cgroups.html">
        <i class="icon-tag icon-large"></i>cgroups
    </a>
</li>
<li class="tag-2">
    <a href="./tag/cloud.html">
        <i class="icon-tag icon-large"></i>cloud
    </a>
</li>
<li class="tag-4">
    <a href="./tag/heatmaps.html">
        <i class="icon-tag icon-large"></i>heatmaps
    </a>
</li>
<li class="tag-4">
    <a href="./tag/shell.html">
        <i class="icon-tag icon-large"></i>shell
    </a>
</li>
<li class="tag-4">
    <a href="./tag/riak.html">
        <i class="icon-tag icon-large"></i>riak
    </a>
</li>
<li class="tag-4">
    <a href="./tag/network.html">
        <i class="icon-tag icon-large"></i>network
    </a>
</li>
<li class="tag-4">
    <a href="./tag/xcp.html">
        <i class="icon-tag icon-large"></i>xcp
    </a>
</li>
<li class="tag-4">
    <a href="./tag/mailservers.html">
        <i class="icon-tag icon-large"></i>mailservers
    </a>
</li>
<li class="tag-4">
    <a href="./tag/elasticsearch.html">
        <i class="icon-tag icon-large"></i>elasticsearch
    </a>
</li>
<li class="tag-4">
    <a href="./tag/clojure.html">
        <i class="icon-tag icon-large"></i>clojure
    </a>
</li>
<li class="tag-4">
    <a href="./tag/torrent.html">
        <i class="icon-tag icon-large"></i>torrent
    </a>
</li>
<li class="tag-2">
    <a href="./tag/debian.html">
        <i class="icon-tag icon-large"></i>debian
    </a>
</li>
<li class="tag-4">
    <a href="./tag/darner.html">
        <i class="icon-tag icon-large"></i>darner
    </a>
</li>
<li class="tag-4">
    <a href="./tag/openhardware.html">
        <i class="icon-tag icon-large"></i>openhardware
    </a>
</li>
<li class="tag-4">
    <a href="./tag/gelf.html">
        <i class="icon-tag icon-large"></i>gelf
    </a>
</li>
<li class="tag-4">
    <a href="./tag/android.html">
        <i class="icon-tag icon-large"></i>android
    </a>
</li>
<li class="tag-4">
    <a href="./tag/iptables.html">
        <i class="icon-tag icon-large"></i>iptables
    </a>
</li>
<li class="tag-4">
    <a href="./tag/freesoc.html">
        <i class="icon-tag icon-large"></i>freesoc
    </a>
</li>
<li class="tag-4">
    <a href="./tag/containers.html">
        <i class="icon-tag icon-large"></i>containers
    </a>
</li>
<li class="tag-4">
    <a href="./tag/openflow.html">
        <i class="icon-tag icon-large"></i>openflow
    </a>
</li>
<li class="tag-4">
    <a href="./tag/osx.html">
        <i class="icon-tag icon-large"></i>osx
    </a>
</li>
<li class="tag-4">
    <a href="./tag/fusionio.html">
        <i class="icon-tag icon-large"></i>fusionio
    </a>
</li>
<li class="tag-3">
    <a href="./tag/redis.html">
        <i class="icon-tag icon-large"></i>redis
    </a>
</li>
<li class="tag-4">
    <a href="./tag/greylog2.html">
        <i class="icon-tag icon-large"></i>greylog2
    </a>
</li>
<li class="tag-4">
    <a href="./tag/apache.html">
        <i class="icon-tag icon-large"></i>apache
    </a>
</li>
<li class="tag-4">
    <a href="./tag/storage.html">
        <i class="icon-tag icon-large"></i>storage
    </a>
</li>
<li class="tag-4">
    <a href="./tag/performance.html">
        <i class="icon-tag icon-large"></i>performance
    </a>
</li>
<li class="tag-2">
    <a href="./tag/sysadmin.html">
        <i class="icon-tag icon-large"></i>sysadmin
    </a>
</li>
<li class="tag-4">
    <a href="./tag/web.html">
        <i class="icon-tag icon-large"></i>web
    </a>
</li>
<li class="tag-4">
    <a href="./tag/spanner.html">
        <i class="icon-tag icon-large"></i>spanner
    </a>
</li>
<li class="tag-4">
    <a href="./tag/netbsd.html">
        <i class="icon-tag icon-large"></i>netbsd
    </a>
</li>
<li class="tag-4">
    <a href="./tag/automation.html">
        <i class="icon-tag icon-large"></i>automation
    </a>
</li>
<li class="tag-4">
    <a href="./tag/mailfromd.html">
        <i class="icon-tag icon-large"></i>mailfromd
    </a>
</li>
<li class="tag-4">
    <a href="./tag/rdbms.html">
        <i class="icon-tag icon-large"></i>rdbms
    </a>
</li>
<li class="tag-2">
    <a href="./tag/cfengine3.html">
        <i class="icon-tag icon-large"></i>cfengine3
    </a>
</li>
<li class="tag-4">
    <a href="./tag/flashcache.html">
        <i class="icon-tag icon-large"></i>flashcache
    </a>
</li>
<li class="tag-1">
    <a href="./tag/nosql.html">
        <i class="icon-tag icon-large"></i>nosql
    </a>
</li>
<li class="tag-4">
    <a href="./tag/routing.html">
        <i class="icon-tag icon-large"></i>routing
    </a>
</li>
<li class="tag-3">
    <a href="./tag/messagequeue.html">
        <i class="icon-tag icon-large"></i>messagequeue
    </a>
</li>
<li class="tag-3">
    <a href="./tag/postfix.html">
        <i class="icon-tag icon-large"></i>postfix
    </a>
</li>
<li class="tag-2">
    <a href="./tag/cassandra.html">
        <i class="icon-tag icon-large"></i>cassandra
    </a>
</li>
<li class="tag-2">
    <a href="./tag/lua.html">
        <i class="icon-tag icon-large"></i>lua
    </a>
</li>
<li class="tag-4">
    <a href="./tag/pxe.html">
        <i class="icon-tag icon-large"></i>pxe
    </a>
</li>
<li class="tag-4">
    <a href="./tag/handlersocket.html">
        <i class="icon-tag icon-large"></i>handlersocket
    </a>
</li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->
      </footer>

    </div><!--/.fluid-container-->


            
    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./theme/js/jquery-1.7.2.min.js"></script>
    <script src="./theme/js/bootstrap.min.js"></script>
  </body>
</html>