<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>sysadms must be lazy - pxe</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Juliano Martinez">

    <!-- Le styles -->
    <link rel="stylesheet" href="../theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 11pt;
      }
      .tag-2 {
        font-size: 9pt;
      }
      .tag-3 {
        font-size: 8pt;
      }
      .tag-4 {
        font-size: 7pt;
     }
    </style>
    <link href="../theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="../theme/css/font-awesome.css" rel="stylesheet">

    <link href="../theme/css/pygments.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="../theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="../theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../theme/images/apple-touch-icon-114x114.png">

    <link href="../" type="application/atom+xml" rel="alternate" title="sysadms must be lazy ATOM Feed" />
        <link href="../feeds/rss.xml" type="application/atom+xml" rel="alternate" title="sysadms must be lazy RSS Feed" />
    
  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="../index.html">sysadms must be lazy </a>
          <div class="nav-collapse">
            <ul class="nav">
                                                                    <li class="divider-vertical"></li>
                                        <ul class="nav pull-right">
                                <li><a href="../archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>

            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="span12" id="content">
                            <div class="article">
                <h1><a href="../sali-automates-linux-installs-software-distribution-and-production-deployment.html">Sali automates Linux installs, software distribution, and production deployment.</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label"><i class="icon-calendar"></i></span>
<abbr class="published" title="2012-06-08T15:53:00">
        Fri 08 June 2012
</abbr>
<span class="label">By</span>
<a href="../author/juliano-martinez.html">Juliano Martinez</a>


<span class="label">Tags</span>
	<a href="../tag/automation.html"><i class="icon-tag"></i>automation</a>
	<a href="../tag/diskless.html"><i class="icon-tag"></i>diskless</a>
	<a href="../tag/pxe.html"><i class="icon-tag"></i>pxe</a>
	<a href="../tag/torrent.html"><i class="icon-tag"></i>torrent</a>
</footer><!-- /.post-info --></div>
                <div class="summary"><p>&quot;For node installation we at&nbsp;<a class="reference external" href="http://www.sara.nl/">SARA</a>&nbsp;used&nbsp;<a class="reference external" href="http://wiki.systemimager.org/">SystemImager</a>. We
switched to SALI for all our clusters. SALI allows you to create a
clone of your running system. This clone can be distributed by
various protocols (<a class="reference external" href="http://aria2.sourceforge.net/">aria2</a>) eg: rsync, Bittorent, ftp, http/https,
metalink</p>
<p><strong>Why SALI</strong></p>
<p>SALI is created due the fact that on the moment of starting SALI:</p>
<ul class="simple">
<li>Systemimager kernel/initrd and BOEL utilities are outdated. New
hardware was not detected/supported</li>
<li>no&nbsp;grub2&nbsp;support</li>
<li>no ext4 support</li>
</ul>
<p>The trigger for us was that there is no&nbsp;grub2&nbsp;support. We thought
this could be easily added, but during this process we decided to
upgrade all software to the newest levels and replace some software
components. The biggest hurdle was detecting of which hardware is
in the system (<a class="reference external" href="http://www.kernel.org/pub/linux/utils/kernel/hotplug/udev.html">udev</a>). We believe that SALI is better in
detecting which hardware is in the system than the SystemImager
setup. The focus for this project is/was:</p>
<ul class="simple">
<li>Easily create a new kernel/initrd when a new kernel is released
or one of the software components is updated, eg:&nbsp;<a class="reference external" href="http://www.busybox.net/">busybox</a>.</li>
<li>The SALI initrd contains all kernel modules and software
utilities. In SystemImager this software is distributed as a
separate package (BOEL binaries).</li>
<li>Drop support for flamethrower/multicast and floppy disk support.</li>
<li>With some minor&nbsp;<a class="reference external" href="https://subtrac.sara.nl/oss/sali/wiki/SaliUsage/UsingYourOldInstallScript">adjustments</a>&nbsp;you can use your old generated
SystemImager scripts. These scripts
uses&nbsp;/etc/init.d/functions&nbsp;which is included in the initrd. We have
added/changed a lot of functions to hide the complexity. We have
reduced the code of the SystemImager scripts significantly,
See&nbsp;<a class="reference external" href="https://subtrac.sara.nl/oss/sali/browser/trunk/example/masterscript.new">masterscript.new</a>. Read the&nbsp;<a class="reference external" href="https://subtrac.sara.nl/oss/sali/wiki/SaliUsage/Functions">Functions Documentation</a></li>
<li>For detailed overview of the changes read this&nbsp;<a class="reference external" href="https://subtrac.sara.nl/oss/sali/browser/trunk/CHANGELOG">changelog</a></li>
<li>For now you must set&nbsp;SCRIPTNAME=&lt;script_name&gt;&nbsp;in the pxelinux
file</li>
<li>If&nbsp;GRUB2=yes&nbsp;is set then we expect a seperate grub2 partition:</li>
<li>Added&nbsp;<a class="reference external" href="http://code.google.com/p/diskscrub">diskscrub</a>, Diskscrub overwrites hard disks, files, and ...</li></ul>
                        <a class="btn primary xsmall" href="../sali-automates-linux-installs-software-distribution-and-production-deployment.html">more ...</a>
                </div>
        </div>
        <hr />
        
                        </div><!--/span-->

                <div class="span3 well sidebar-nav" id="sidebar">
            <ul class="nav nav-list">
<li class="nav-header"><h5>Juliano Martinez</h5></li>
    <a href="http://twitter.com/ncode"><i class="icon-twitter-sign icon-large"></i></a>
    <a href="https://www.facebook.com/nc0d3"><i class="icon-facebook-sign icon-large"></i></a>
    <a href="http://br.linkedin.com/in/ncode"><i class="icon-linkedin-sign icon-large"></i></a>
    <a href="http://github.com/ncode"><i class="icon-github-sign icon-large"></i></a>
    <a href="https://plus.google.com/u/0/114807336963795227899"><i class="icon-google-plus-sign icon-large"></i></a>
<a href="../feeds/rss.xml" rel="alternate"><i class="icon-rss icon-large"></i></a>
<li class="nav-header"></li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>
<li class="tag-3">
    <a href="../tag/gevent.html">
        <i class="icon-tag icon-large"></i>gevent
    </a>
</li>
<li class="tag-4">
    <a href="../tag/xen.html">
        <i class="icon-tag icon-large"></i>xen
    </a>
</li>
<li class="tag-4">
    <a href="../tag/databases.html">
        <i class="icon-tag icon-large"></i>databases
    </a>
</li>
<li class="tag-4">
    <a href="../tag/html5.html">
        <i class="icon-tag icon-large"></i>html5
    </a>
</li>
<li class="tag-2">
    <a href="../tag/kernel.html">
        <i class="icon-tag icon-large"></i>kernel
    </a>
</li>
<li class="tag-3">
    <a href="../tag/c.html">
        <i class="icon-tag icon-large"></i>c
    </a>
</li>
<li class="tag-1">
    <a href="../tag/python.html">
        <i class="icon-tag icon-large"></i>python
    </a>
</li>
<li class="tag-4">
    <a href="../tag/bottle.html">
        <i class="icon-tag icon-large"></i>bottle
    </a>
</li>
<li class="tag-4">
    <a href="../tag/mobile.html">
        <i class="icon-tag icon-large"></i>mobile
    </a>
</li>
<li class="tag-2">
    <a href="../tag/mysql.html">
        <i class="icon-tag icon-large"></i>mysql
    </a>
</li>
<li class="tag-4">
    <a href="../tag/concurrency.html">
        <i class="icon-tag icon-large"></i>concurrency
    </a>
</li>
<li class="tag-4">
    <a href="../tag/audit.html">
        <i class="icon-tag icon-large"></i>audit
    </a>
</li>
<li class="tag-2">
    <a href="../tag/packaging.html">
        <i class="icon-tag icon-large"></i>packaging
    </a>
</li>
<li class="tag-4">
    <a href="../tag/ciclone.html">
        <i class="icon-tag icon-large"></i>ciclone
    </a>
</li>
<li class="tag-4">
    <a href="../tag/glusterfs.html">
        <i class="icon-tag icon-large"></i>glusterfs
    </a>
</li>
<li class="tag-4">
    <a href="../tag/player.html">
        <i class="icon-tag icon-large"></i>player
    </a>
</li>
<li class="tag-4">
    <a href="../tag/diskless.html">
        <i class="icon-tag icon-large"></i>diskless
    </a>
</li>
<li class="tag-3">
    <a href="../tag/git.html">
        <i class="icon-tag icon-large"></i>git
    </a>
</li>
<li class="tag-4">
    <a href="../tag/video.html">
        <i class="icon-tag icon-large"></i>video
    </a>
</li>
<li class="tag-4">
    <a href="../tag/zfs.html">
        <i class="icon-tag icon-large"></i>zfs
    </a>
</li>
<li class="tag-4">
    <a href="../tag/zmq.html">
        <i class="icon-tag icon-large"></i>zmq
    </a>
</li>
<li class="tag-2">
    <a href="../tag/linux.html">
        <i class="icon-tag icon-large"></i>linux
    </a>
</li>
<li class="tag-4">
    <a href="../tag/lxc.html">
        <i class="icon-tag icon-large"></i>lxc
    </a>
</li>
<li class="tag-4">
    <a href="../tag/hbase.html">
        <i class="icon-tag icon-large"></i>hbase
    </a>
</li>
<li class="tag-4">
    <a href="../tag/geolocation.html">
        <i class="icon-tag icon-large"></i>geolocation
    </a>
</li>
<li class="tag-3">
    <a href="../tag/cgroups.html">
        <i class="icon-tag icon-large"></i>cgroups
    </a>
</li>
<li class="tag-2">
    <a href="../tag/cloud.html">
        <i class="icon-tag icon-large"></i>cloud
    </a>
</li>
<li class="tag-4">
    <a href="../tag/heatmaps.html">
        <i class="icon-tag icon-large"></i>heatmaps
    </a>
</li>
<li class="tag-4">
    <a href="../tag/shell.html">
        <i class="icon-tag icon-large"></i>shell
    </a>
</li>
<li class="tag-4">
    <a href="../tag/riak.html">
        <i class="icon-tag icon-large"></i>riak
    </a>
</li>
<li class="tag-4">
    <a href="../tag/network.html">
        <i class="icon-tag icon-large"></i>network
    </a>
</li>
<li class="tag-4">
    <a href="../tag/xcp.html">
        <i class="icon-tag icon-large"></i>xcp
    </a>
</li>
<li class="tag-4">
    <a href="../tag/mailservers.html">
        <i class="icon-tag icon-large"></i>mailservers
    </a>
</li>
<li class="tag-4">
    <a href="../tag/elasticsearch.html">
        <i class="icon-tag icon-large"></i>elasticsearch
    </a>
</li>
<li class="tag-4">
    <a href="../tag/clojure.html">
        <i class="icon-tag icon-large"></i>clojure
    </a>
</li>
<li class="tag-4">
    <a href="../tag/torrent.html">
        <i class="icon-tag icon-large"></i>torrent
    </a>
</li>
<li class="tag-2">
    <a href="../tag/debian.html">
        <i class="icon-tag icon-large"></i>debian
    </a>
</li>
<li class="tag-4">
    <a href="../tag/darner.html">
        <i class="icon-tag icon-large"></i>darner
    </a>
</li>
<li class="tag-4">
    <a href="../tag/openhardware.html">
        <i class="icon-tag icon-large"></i>openhardware
    </a>
</li>
<li class="tag-4">
    <a href="../tag/gelf.html">
        <i class="icon-tag icon-large"></i>gelf
    </a>
</li>
<li class="tag-4">
    <a href="../tag/android.html">
        <i class="icon-tag icon-large"></i>android
    </a>
</li>
<li class="tag-4">
    <a href="../tag/iptables.html">
        <i class="icon-tag icon-large"></i>iptables
    </a>
</li>
<li class="tag-4">
    <a href="../tag/freesoc.html">
        <i class="icon-tag icon-large"></i>freesoc
    </a>
</li>
<li class="tag-4">
    <a href="../tag/containers.html">
        <i class="icon-tag icon-large"></i>containers
    </a>
</li>
<li class="tag-4">
    <a href="../tag/openflow.html">
        <i class="icon-tag icon-large"></i>openflow
    </a>
</li>
<li class="tag-4">
    <a href="../tag/osx.html">
        <i class="icon-tag icon-large"></i>osx
    </a>
</li>
<li class="tag-4">
    <a href="../tag/fusionio.html">
        <i class="icon-tag icon-large"></i>fusionio
    </a>
</li>
<li class="tag-3">
    <a href="../tag/redis.html">
        <i class="icon-tag icon-large"></i>redis
    </a>
</li>
<li class="tag-4">
    <a href="../tag/greylog2.html">
        <i class="icon-tag icon-large"></i>greylog2
    </a>
</li>
<li class="tag-4">
    <a href="../tag/apache.html">
        <i class="icon-tag icon-large"></i>apache
    </a>
</li>
<li class="tag-4">
    <a href="../tag/storage.html">
        <i class="icon-tag icon-large"></i>storage
    </a>
</li>
<li class="tag-4">
    <a href="../tag/performance.html">
        <i class="icon-tag icon-large"></i>performance
    </a>
</li>
<li class="tag-2">
    <a href="../tag/sysadmin.html">
        <i class="icon-tag icon-large"></i>sysadmin
    </a>
</li>
<li class="tag-4">
    <a href="../tag/web.html">
        <i class="icon-tag icon-large"></i>web
    </a>
</li>
<li class="tag-4">
    <a href="../tag/spanner.html">
        <i class="icon-tag icon-large"></i>spanner
    </a>
</li>
<li class="tag-4">
    <a href="../tag/netbsd.html">
        <i class="icon-tag icon-large"></i>netbsd
    </a>
</li>
<li class="tag-4">
    <a href="../tag/automation.html">
        <i class="icon-tag icon-large"></i>automation
    </a>
</li>
<li class="tag-4">
    <a href="../tag/mailfromd.html">
        <i class="icon-tag icon-large"></i>mailfromd
    </a>
</li>
<li class="tag-4">
    <a href="../tag/rdbms.html">
        <i class="icon-tag icon-large"></i>rdbms
    </a>
</li>
<li class="tag-2">
    <a href="../tag/cfengine3.html">
        <i class="icon-tag icon-large"></i>cfengine3
    </a>
</li>
<li class="tag-4">
    <a href="../tag/flashcache.html">
        <i class="icon-tag icon-large"></i>flashcache
    </a>
</li>
<li class="tag-1">
    <a href="../tag/nosql.html">
        <i class="icon-tag icon-large"></i>nosql
    </a>
</li>
<li class="tag-4">
    <a href="../tag/routing.html">
        <i class="icon-tag icon-large"></i>routing
    </a>
</li>
<li class="tag-3">
    <a href="../tag/messagequeue.html">
        <i class="icon-tag icon-large"></i>messagequeue
    </a>
</li>
<li class="tag-3">
    <a href="../tag/postfix.html">
        <i class="icon-tag icon-large"></i>postfix
    </a>
</li>
<li class="tag-2">
    <a href="../tag/cassandra.html">
        <i class="icon-tag icon-large"></i>cassandra
    </a>
</li>
<li class="tag-2">
    <a href="../tag/lua.html">
        <i class="icon-tag icon-large"></i>lua
    </a>
</li>
<li class="tag-4">
    <a href="../tag/pxe.html">
        <i class="icon-tag icon-large"></i>pxe
    </a>
</li>
<li class="tag-4">
    <a href="../tag/handlersocket.html">
        <i class="icon-tag icon-large"></i>handlersocket
    </a>
</li>


</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer>
        <address id="about">
                Proudly powered by <a href="http://pelican.notmyidea.org/">Pelican <i class="icon-external-link"></i></a>,
                                which takes great advantage of <a href="http://python.org">Python <i class="icon-external-link"></i></a>.
        </address><!-- /#about -->
      </footer>

    </div><!--/.fluid-container-->


            
    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../theme/js/jquery-1.7.2.min.js"></script>
    <script src="../theme/js/bootstrap.min.js"></script>
  </body>
</html>